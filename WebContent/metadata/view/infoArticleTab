{
    "type": "Ext.panel.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "infoArticleTab",
        "designer|userClassName": "infoArticleTab",
        "id": "infoArticleTab",
        "title": "文章管理-列表"
    },
    "designerId": "0d10ac85-32fe-486d-94cb-9062ce7b305a",
    "cn": [
        {
            "type": "Ext.form.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "autoScroll": true,
                "bodyPadding": 10,
                "dock": null,
                "height": 421,
                "id": "",
                "jsonSubmit": true,
                "layout": "fit",
                "pollForChanges": null,
                "title": "My Form"
            },
            "name": "MyForm20",
            "designerId": "9e5ea761-0311-4f9c-9d21-13627c1f58f7",
            "cn": [
                {
                    "type": "Ext.grid.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "collapsible": false,
                        "height": 241,
                        "id": "articlegrid",
                        "store": "InfoArticleStore",
                        "title": "文章列表"
                    },
                    "name": "MyGridPanel45",
                    "designerId": "0077bf27-51f7-4258-ba45-c13b135e7226",
                    "cn": [
                        {
                            "type": "Ext.grid.RowNumberer",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "text": null
                            },
                            "name": "MyRowNumberer25",
                            "designerId": "21f11dc9-a33c-4a35-b73f-154c28883848"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "articleId",
                                "text": "文章ID"
                            },
                            "name": "MyColumn117",
                            "designerId": "1b11749d-0d0f-4c88-ab84-d191e9345592"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "articleName",
                                "text": "文章标题"
                            },
                            "name": "MyColumn118",
                            "designerId": "dc769af2-1b41-4fc8-b8c7-45a6b57bc315"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "channelId",
                                "text": "频道栏目"
                            },
                            "name": "MyColumn119",
                            "designerId": "b4448e57-cb25-44f3-8b52-71fd184cca01"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "articleAuthor",
                                "text": "作者"
                            },
                            "name": "MyColumn120",
                            "designerId": "02fe345b-76f3-4e0c-85bc-133e5b6f5d9a"
                        },
                        {
                            "type": "Ext.grid.column.Date",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "articlePublishtime",
                                "text": "发布时间"
                            },
                            "name": "MyDateColumn23",
                            "designerId": "9f3d01f2-1e21-4447-b7ca-8846613476ff"
                        },
                        {
                            "type": "Ext.grid.View",
                            "reference": {
                                "name": "viewConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyGridView40",
                            "designerId": "93a7690e-372f-4ad5-b509-e274bba37fa0"
                        },
                        {
                            "type": "Ext.selection.CheckboxModel",
                            "reference": {
                                "name": "selModel",
                                "type": "object"
                            },
                            "codeClass": "Ext.selection.CheckboxModel",
                            "name": "MyCheckboxSelectionModel23",
                            "designerId": "3f8e1af2-c3e8-4d65-b50a-9216f3c4b8a1"
                        },
                        {
                            "type": "Ext.toolbar.Toolbar",
                            "reference": {
                                "name": "dockedItems",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dock": "top",
                                "enableOverflow": true,
                                "frame": false,
                                "height": null
                            },
                            "name": "MyToolbar29",
                            "designerId": "2d027bf6-bb53-4ba0-b9c6-6d548b515e6d",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "按频道栏目查询",
                                        "layout|flex": null,
                                        "selectOnFocus": true,
                                        "width": 204
                                    },
                                    "name": "MyTextField71",
                                    "designerId": "38be7035-af0d-4951-8359-40127bef64e6"
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "按作者查询",
                                        "layout|flex": null,
                                        "width": 176
                                    },
                                    "name": "MyTextField72",
                                    "designerId": "e30d945f-dbc2-4012-93f1-b55332ae92cc"
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "按文章标题查询",
                                        "layout|flex": null,
                                        "width": 211
                                    },
                                    "name": "MyTextField73",
                                    "designerId": "e0be694a-dd8d-4857-83df-2a72d25c16a7"
                                },
                                {
                                    "type": "Ext.form.field.Date",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "按时间查询",
                                        "layout|flex": null,
                                        "width": 204
                                    },
                                    "name": "MyDateField46",
                                    "designerId": "d33500bd-74c7-4d68-85ff-bb5cfa507ad1"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": null,
                                        "text": "查询文章"
                                    },
                                    "name": "MyButton129",
                                    "designerId": "e3937d2d-fa8d-4c6b-bce6-194a3c862f03"
                                }
                            ]
                        },
                        {
                            "type": "Ext.toolbar.Toolbar",
                            "reference": {
                                "name": "dockedItems",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dock": "top"
                            },
                            "name": "MyToolbar30",
                            "designerId": "e0330a4e-de58-45d8-8fb1-9a26423cad4a",
                            "cn": [
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": null,
                                        "text": "编辑文章"
                                    },
                                    "name": "MyButton130",
                                    "designerId": "1f7a16d4-2104-446f-a340-ce1f94daf054",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "event"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "var grid = Ext.getCmp('articlegrid');\r",
                                                    "var record = grid.getSelectionModel().getSelection();\r",
                                                    "var articleSelectedId = record[0].get(\"articleId\");\r",
                                                    "Ext.Msg.alert('提示', articleSelectedId);\r",
                                                    "\r",
                                                    "\r",
                                                    "if (record.length === 0) {\r",
                                                    "    Ext.Msg.alert('提示', '请先选择您要操作的行！');\r",
                                                    "    return;\r",
                                                    "\r",
                                                    "} else if (record.length > 1) {\r",
                                                    "    Ext.Msg.alert('提示', '只能选择一行数据');\r",
                                                    "    return;\r",
                                                    "} else {\r",
                                                    "\r",
                                                    "\r",
                                                    "    var tabs = this.up('tabpanel');\r",
                                                    "    tabs.removeAll(true);\r",
                                                    "    //用tabs.add()新增加一个tab页面,通过Ext.widget(xtype)得到文章回收站的页面\r",
                                                    "    var newtab = tabs.add(Ext.widget('infoArticlePublishTab'));\r",
                                                    "\r",
                                                    "\r",
                                                    "    //先通过id获得文章发表的form表单，然后加载数据，传过去的参数为articleSelectedId，url为get_infoArticleDetail\r",
                                                    "    var articleForm = newtab.getComponent('articleDetailForm'); \r",
                                                    "    Ext.Msg.alert('提示', articleForm.id);\r",
                                                    "    articleForm.load({\r",
                                                    "        params: {\r",
                                                    "            articleSelectedId: articleSelectedId\r",
                                                    "        },\r",
                                                    "        url:'get_infoArticleDetail',\r",
                                                    "        method:'GET',\r",
                                                    "        success:function(form,action){\r",
                                                    "            Ext.Msg.alert('提示','数据加载成功'); \r",
                                                    "        },\r",
                                                    "        failure:function(form,action){\r",
                                                    "            Ext.Msg.alert('提示','数据加载失败');   \r",
                                                    "        }\r",
                                                    "    });     \r",
                                                    "\r",
                                                    "\r",
                                                    "\r",
                                                    "}"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "06f17b93-baf6-4d0a-8d59-009bd801f24a"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": null,
                                        "text": "查看文章"
                                    },
                                    "name": "MyButton131",
                                    "designerId": "2930fc88-5b54-4dfb-8ca5-cbc4cfc274fa"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": null,
                                        "text": "移入回收站"
                                    },
                                    "name": "MyButton132",
                                    "designerId": "85b858f1-24ec-499a-a875-100fb7d28416",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "event"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "var grid = Ext.getCmp('articlegrid');\r",
                                                    "//var gird = this.down('grid');\r",
                                                    "var record = grid.getSelectionModel().getSelection();\r",
                                                    "\r",
                                                    "if(record.length === 0){\r",
                                                    "    Ext.Msg.alert('提示','请先选择您要操作的行！');    \r",
                                                    "    return;\r",
                                                    "\r",
                                                    "}else{\r",
                                                    "\r",
                                                    "\r",
                                                    "    //var articleIds='';\r",
                                                    "    //for(var i=0;i<record.length;i++)\r",
                                                    "    //{\r",
                                                    "    //    articleIds+=record[i].get(\"articleId\");\r",
                                                    "    //    if(i<record.length-1)articleIds=articleIds+\",\";\r",
                                                    "    //}\r",
                                                    "    //Ext.Msg.alert('提示',articleIds);\r",
                                                    "\r",
                                                    "\r",
                                                    "\r",
                                                    "    var  articleIds =new Array(record.length);\r",
                                                    "    for(var i = 0;i<record.length;i++){\r",
                                                    "        articleIds[i] = record[i].get(\"articleId\");\r",
                                                    "\r",
                                                    "    }\r",
                                                    "    //Ext.Msg.alert('提示',articleIds);\r",
                                                    "\r",
                                                    "\r",
                                                    "\r",
                                                    "    Ext.Ajax.request({\r",
                                                    "        url:'update_articleIsrecycle',\r",
                                                    "        params:{articleIds:articleIds},\r",
                                                    "\r",
                                                    "        success:function(response){\r",
                                                    "            Ext.Msg.alert('success','文章放入到回收站');\r",
                                                    "            var mystore2 = Ext.StoreMgr.get('InfoArticleStore');\r",
                                                    "            mystore2.load(\r",
                                                    "            {\r",
                                                    "                params:{\r",
                                                    "                    start:\"0\",                        \r",
                                                    "                    limit:\"10\"\r",
                                                    "\r",
                                                    "                }\r",
                                                    "            }\r",
                                                    "            );\r",
                                                    "\r",
                                                    "        }\r",
                                                    "\r",
                                                    "    });\r",
                                                    "\r",
                                                    "}"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "3a53edf1-57ba-4fdb-a6d6-be2118ced025"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": null,
                                        "text": "查看回收站"
                                    },
                                    "name": "MyButton133",
                                    "designerId": "91a7c4fe-98c8-4395-a280-976dbdadbe70",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "event"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "var tabs = this.up('tabpanel');\r",
                                                    "tabs.removeAll(true);\r",
                                                    "//用tabs.add()新增加一个tab页面,通过Ext.widget(xtype)得到文章回收站的页面\r",
                                                    "var newtab = tabs.add(Ext.widget('infoArticleRecycleTab'));\r",
                                                    "//tabs.setActiveTab(newtab);\r",
                                                    "//Ext.Msg.alert('提示','Current tab: ' + tabs.id + \" \" + tabs.title +newtab.title);\r",
                                                    "\r",
                                                    "\r",
                                                    "\r",
                                                    "\r",
                                                    "\r",
                                                    "\r",
                                                    "//var grid = Ext.getCmp('articlegrid');\r",
                                                    "\r",
                                                    "//var gird = this.down('grid');\r",
                                                    "//var record = grid.getSelectionModel().getSelection();\r",
                                                    "\r",
                                                    "//if (record.length === 0) {\r",
                                                    "//    Ext.Msg.alert('提示', '请先选择您要操作的行！');\r",
                                                    "//    return;\r",
                                                    "//\r",
                                                    "//} else if (record.length > 1) {\r",
                                                    "//    Ext.Msg.alert('提示', '只能选择一行数据');\r",
                                                    "//    return;\r",
                                                    "//} else {\r",
                                                    "\r",
                                                    "\r",
                                                    "\r",
                                                    "\r",
                                                    "\r",
                                                    "\r",
                                                    "////var tabs = Ext.getCmp('MyMainTabPanel');\r",
                                                    "// var oldtab = tabs.getComponent('infoArticleTab');\r",
                                                    "//var newtab = Ext.getCmp('infoArticleRecycleTab');\r",
                                                    "//    tabs.setActiveTab(newtab);\r",
                                                    "//Ext.Msg.alert('提示','Current tab: ' + tabs.id + \" \" + tabs.title +newtab.id);\r",
                                                    "\r",
                                                    "\r",
                                                    "\r",
                                                    "//var articleIds = new Array(record.length);\r",
                                                    "//for (var i = 0; i < record.length; i++) {\r",
                                                    "//    articleIds[i] = record[i].get(\"articleId\");\r",
                                                    "\r",
                                                    "//}\r",
                                                    "// Ext.Msg.alert('提示', articleIds);\r",
                                                    "\r",
                                                    "// Ext.Ajax.request({\r",
                                                    "//   url: 'update_articleIsrecycle',\r",
                                                    "//   params: {\r",
                                                    "//       articleIds: articleIds\r",
                                                    "//  },\r",
                                                    "\r",
                                                    "//  success: function(response) {\r",
                                                    "//      Ext.Msg.alert('success', '文章放入到回收站');\r",
                                                    "//     var mystore2 = Ext.StoreMgr.get('InfoArticleStore');\r",
                                                    "//      mystore2.load({\r",
                                                    "//          params: {\r",
                                                    "//             start: \"0\",\r",
                                                    "//             limit: \"10\"\r",
                                                    "\r",
                                                    "//        }\r",
                                                    "//     });\r",
                                                    "\r",
                                                    "// }\r",
                                                    "\r",
                                                    "//});\r",
                                                    "\r",
                                                    "//}"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "2131eff5-ac78-4038-84cd-6513038a3595"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.toolbar.Paging",
                            "reference": {
                                "name": "dockedItems",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "displayInfo": true,
                                "dock": "bottom",
                                "height": 36,
                                "store": "InfoArticleStore",
                                "width": 360
                            },
                            "name": "MyPagingToolbar32",
                            "designerId": "41c4d5de-cf1f-4597-b569-dc36dd4a77f0"
                        }
                    ]
                }
            ]
        }
    ]
}